<doctype html>
<html>
	<head>
		<style>
		body {
			width: 100%;
			height: 100%;
			margin: 0;
			padding: 0;
		}

		#pageSliderWidget {
			background: #ddd;
			margin: 0;
			padding: 0;
			overflow: hidden;
			border: 0;
			width: 100%;
		}

		#pageSlider {
			margin: 0;
			padding: 0;
			height: 400px;
			position: relative;
			left: 0;
		}

		.pageSliderPanel {
			width: 100%;
			background: #fff;
			border: 1px solid #aaa;
			padding: 20px;
			margin: 10px 20px;
			float: left;
		}
		</style>
	</head>
<body>

<script src="http://code.jquery.com/jquery.min.js"></script>
<script>
var PageSlider = function(sliderEl) {
	var slider = sliderEl;
	var panels = $(".pageSliderPanel");
	var width = $(slider).innerWidth();
	var margin = parseInt($(".pageSliderPanel").css("marginLeft")) + parseInt($(".pageSliderPanel").css("marginRight"));
	var scrollDelay = 250;
	var panelStyleName = ".pageSliderPanel";
	
	// Element ID that identifies a panel, excluding its integer value
	var panelIndexName = "panel_num_";

	$(panelStyleName).outerWidth(width - margin);

	$(slider).innerWidth(($(panels[0]).outerWidth() + margin) * panels.length);

	function scrollPanel() {
	
		var target = $(this).parent(panelStyleName).next();
	
		if ($(this).attr("data-intent") == "scroll-previous")
			target = $(this).parent(panelStyleName).prev();
	
		if ($(target)[0] != undefined)
			updateHash(target);
	}

	function updateHash(target) {
		var id = $(target).attr("id").replace(panelIndexName, "");
		window.location.hash = "#page_" + id;
		goto(target);
	}

	function goto(target, speed) {
		if (speed == null)
			speed = scrollDelay;

		$(slider).animate({"left": -($(target).position().left)}, speed);
	}

	this.gotoHash = function(speed) {
		if (speed == null)
			speed = scrollDelay;

		var hash = window.location.hash.replace("#", "");
		var id = hash.replace("page_", "");
		
		var target = $("#" + panelIndexName + id);

		if ($(target)[0] != undefined) {
			goto(target, speed);
		} else {
			goto($(panelStyleName)[0]);
		}
	};

	this.setScrollDelay = function(delay) {
		scrollDelay = delay;
	};

	this.setPanelName = function(indexName) {
		panelIndexName = indexName;
	};

	this.run = function() {
		this.gotoHash(0);
	};

	$("button[data-intent='scroll-next'], button[data-intent='scroll-previous']").live("click", scrollPanel);
};


$(function(){
	var slider = new PageSlider($("#pageSlider"));
	$(window).bind("hashchange", slider.gotoHash);
	slider.run();
});
</script>

	<div id="pageSliderWidget">
		<div id="pageSlider">
			<div class="pageSliderPanel" id="panel_num_1">
				<h1>Panel #1</h1>
				<button data-intent="scroll-previous">&laquo;</button>
				<button data-intent="scroll-next">&raquo;</button>
				<p>Apple pie candy biscuit sweet roll. Oat cake topping donut. Faworki faworki candy canes cheesecake dessert soufflé icing tart apple pie. Lemon drops chocolate bar croissant pudding muffin jelly apple pie. Cake powder sesame snaps. Jujubes lemon drops cotton candy sesame snaps tart jelly tootsie roll dessert. Fruitcake biscuit icing jelly-o powder cotton candy. Brownie chocolate oat cake. Candy canes ice cream powder toffee. Tart gummies brownie cookie wypas powder lemon drops wafer. Sugar plum danish sweet roll halvah. Chocolate bar marshmallow croissant muffin pie jelly beans. Chocolate sugar plum cookie chocolate bar marshmallow pastry pudding croissant. Donut gingerbread cupcake danish.</p>
			</div>
			
			<div class="pageSliderPanel" id="panel_num_2">
				<h1>Panel #2</h1>
				<button data-intent="scroll-previous">&laquo;</button>
				<button data-intent="scroll-next">&raquo;</button>
				<p>Fruitcake bonbon chocolate cake. Bonbon gummies sesame snaps lemon drops. Bonbon pudding marzipan wafer croissant chocolate bar gummies bear claw. Oat cake sweet roll fruitcake. Dessert tiramisu jelly bear claw bonbon pastry biscuit tootsie roll. Chocolate cake caramels jelly cotton candy tootsie roll. Biscuit powder sweet roll. Tiramisu pie candy pastry sesame snaps. Halvah jelly beans tootsie roll muffin. Danish applicake pudding lemon drops chocolate bar cake. Danish chupa chups topping macaroon cake chocolate bar. Marzipan donut sweet roll toffee. Tootsie roll danish lemon drops marshmallow.</p>
			</div>
			
			<div class="pageSliderPanel" id="panel_num_3">
				<h1>Panel #3</h1>
				<button data-intent="scroll-previous">&laquo;</button>
				<button data-intent="scroll-next">&raquo;</button>
				<p>Gummies topping jelly beans. Lollipop toffee sweet roll wypas fruitcake ice cream. Fruitcake jujubes donut wafer toffee. Brownie tiramisu cotton candy marshmallow brownie tiramisu fruitcake. Sesame snaps powder pie jelly beans. Fruitcake sweet roll caramels apple pie halvah pastry cheesecake croissant. Gummies apple pie lemon drops. Lemon drops pie croissant applicake soufflé cake chupa chups bonbon. Danish tart chupa chups pie soufflé. Tiramisu tiramisu cupcake lemon drops topping icing oat cake. Jelly-o candy pie. Dessert jujubes gummi bears muffin powder donut pastry.</p>
			</div>
			
			<div class="pageSliderPanel" id="panel_num_4">
				<h1>Panel #4</h1>
				<button data-intent="scroll-previous">&laquo;</button>
				<button data-intent="scroll-next">&raquo;</button>
				<p>Biscuit jelly cotton candy. Wafer cookie jelly apple pie lemon drops wafer. Pudding sweet tiramisu lemon drops faworki. Sweet liquorice donut jelly beans halvah. Gummi bears sweet topping wypas pudding candy. Pudding marzipan lemon drops gummies. Dessert macaroon jelly beans fruitcake croissant. Topping ice cream sweet roll topping cotton candy sweet roll. Danish biscuit pastry jelly-o. Sesame snaps caramels sesame snaps chocolate lemon drops sweet roll cotton candy. Icing soufflé macaroon. Candy dragée chocolate cake gingerbread soufflé wypas.</p>
			</div>
			
			<div class="pageSliderPanel" id="panel_num_5">
				<h1>Panel #5</h1>
				<button data-intent="scroll-previous">&laquo;</button>
				<button data-intent="scroll-next">&raquo;</button>
				<p>Donut pudding pudding. Apple pie lollipop sweet roll jelly pie muffin. Tootsie roll icing powder. Ice cream biscuit pastry. Marshmallow applicake candy liquorice candy. Cake fruitcake sesame snaps fruitcake chupa chups sweet roll marzipan muffin gummi bears. Dessert bonbon chupa chups gummies toffee icing. Sweet roll biscuit faworki oat cake. Tart candy canes bear claw. Pie wafer gummies cupcake donut jelly donut lemon drops cheesecake. Cake cookie tart chocolate cake liquorice caramels. Gingerbread cookie bear claw sesame snaps dragée bonbon jelly beans pie oat cake.</p>
			</div>
			
			<div class="pageSliderPanel" id="panel_num_6">
				<h1>Panel #6</h1>
				<button data-intent="scroll-previous">&laquo;</button>
				<button data-intent="scroll-next">&raquo;</button>
				<p>Biscuit jelly cotton candy. Wafer cookie jelly apple pie lemon drops wafer. Pudding sweet tiramisu lemon drops faworki. Sweet liquorice donut jelly beans halvah. Gummi bears sweet topping wypas pudding candy. Pudding marzipan lemon drops gummies. Dessert macaroon jelly beans fruitcake croissant. Topping ice cream sweet roll topping cotton candy sweet roll. Danish biscuit pastry jelly-o. Sesame snaps caramels sesame snaps chocolate lemon drops sweet roll cotton candy. Icing soufflé macaroon. Candy dragée chocolate cake gingerbread soufflé wypas.</p>
				<p>Fruitcake bonbon chocolate cake. Bonbon gummies sesame snaps lemon drops. Bonbon pudding marzipan wafer croissant chocolate bar gummies bear claw. Oat cake sweet roll fruitcake. Dessert tiramisu jelly bear claw bonbon pastry biscuit tootsie roll. Chocolate cake caramels jelly cotton candy tootsie roll. Biscuit powder sweet roll. Tiramisu pie candy pastry sesame snaps. Halvah jelly beans tootsie roll muffin. Danish applicake pudding lemon drops chocolate bar cake. Danish chupa chups topping macaroon cake chocolate bar. Marzipan donut sweet roll toffee. Tootsie roll danish lemon drops marshmallow.</p>
			</div>
		</div>
	</div>

</body>
</html>